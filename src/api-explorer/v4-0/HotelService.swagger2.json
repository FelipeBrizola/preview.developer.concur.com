openapi: 3.0.0
info:
  description: |
    ## Introduction
    HotelService API provides a method for Custom Hotel Source vendors to provide hotel inventory, rates and booking related functionality to users of Concur OBT (Online Booking Tool). 
  
  version: 4.0.0
  title: HotelService API
  contact:
    name: Concur Developer Center Support
    url: https://developer.concur.com/tools-support/support.html
tags:
  - name: service
    description: Hotel workflow endpoints
security:
  - BasicAuth: []

paths:
  /hotels/search:
    post:
      tags:
        - service
      summary: Perform the initial search for hotels.
      operationId: search
      description: Perform the initial search for hotels.
      parameters:
        - in: header
          name: Accept-Language
          schema:
            type: string
        - in: header
          name: concur-correlationid
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SearchCriteria'
        description: Hotel search criteria
      responses:
        '200':
          description: Search results that meet criteria
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ProcessingError'
        '401':
          description: Unauthorized
  /hotels/rates:
    post:
      tags:
        - service
      summary: Retrieve rates for specific hotel properties
      operationId: rates
      description: Retrieve hotel rates
      parameters:
        - in: header
          name: Accept-Language
          schema:
            type: string
        - in: header
          name: concur-correlationid
          description: This unique code can be used during troubleshooting as it identifies the API call in the log files.
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RatesCriteria'
        description: Hotel rates criteria
      responses:
        '200':
          description: Hotel rates for requested properties
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RatesResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ProcessingError'
        '401':
          description: Unauthorized
  /hotels/ratedetails:
    post:
      tags:
        - service
      summary: Retrieve hotel rate details
      operationId: ratedetails
      description: Retrieve hotel rate details for rates of a property - used when rate details are missing from /rates call and/or during checkout process.
      parameters:
        - in: header
          name: Accept-Language
          schema:
            type: string
        - in: header
          name: concur-correlationid
          description: This unique code can be used during troubleshooting as it identifies the API call in the log files.
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RateDetailsCriteria'
        description: Hotel rates criteria
      responses:
        '200':
          description: Hotel rates for requested properties
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RateDetailsResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ProcessingError'
        '401':
          description: Unauthorized
  /hotels/details:
    post:
      tags:
        - service
      summary: Retrieve descriptive details about specified hotels.
      operationId: hoteldetails
      description: Retrieve hotel property information
      parameters:
        - in: header
          name: Accept-Language
          schema:
            type: string
        - in: header
          name: concur-correlationid
          description: This unique code can be used during troubleshooting as it identifies the API call in the log files.
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HotelDetailsCriteria'
        description: Hotel details criteria
      responses:
        '200':
          description: Hotel descriptive info for requested properties
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HotelDetailsResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ProcessingError'
        '401':
          description: Unauthorized

  /hotels/reservation:
    post:
      tags:
        - service
      summary: Reserve the given hotel rate
      operationId: book
      description: Reserve hotel rate
      parameters:
        - in: header
          name: Accept-Language
          schema:
            type: string
        - in: header
          name: concur-correlationid
          description: This unique code can be used during troubleshooting as it identifies the API call in the log files.
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReservationCriteria'
        description: Reservation criteria
      responses:
        '200':
          description: Hotel reservation successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReservationDetails'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ProcessingError'
        '401':
          description: Unauthorized
  /hotels/reservation/read:
    post:
      tags:
        - service
      summary: Returns detailed information about a hotel reservation.
      operationId: read
      description: |
        Read reservation details. Used in a process of reserving a hotel to acknowledge receipt of booking confirmation as well as write information to Itinerary. Not invoked by user, but by automatic Concur process. Hotel Supplier should reply with the same response as provided for the book response.
      parameters:
        - in: header
          name: Accept-Language
          schema:
            type: string
        - in: header
          name: concur-correlationid
          description: This unique code can be used during troubleshooting as it identifies the API call in the log files.
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReadCriteria'
        description: Read itinerary criteria
      responses:
        '200':
          description: Successful read itinerary
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReservationDetails'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ProcessingError'
        '401':
          description: Unauthorized
        '404':
          description: Reservation record not found
  /hotels/reservation/modify:
    post:
      tags:
        - service
      summary: Modify specific reservation
      operationId: modify
      description: Modify given reservation
      parameters:
        - in: header
          name: Accept-Language
          schema:
            type: string
        - in: header
          name: concur-correlationid
          description: This unique code can be used during troubleshooting as it identifies the API call in the log files.
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModifyCriteria'
        description: Modify reservation criteria
      responses:
        '200':
          description: Reservation succeessfully modified
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReservationDetails'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ProcessingError'
        '401':
          description: Unauthorized
        '404':
          description: Reservation record not found
        '501':
          description: Endpoint not implemented

  /hotels/reservation/cancel:
    post:
      tags:
        - service
      summary: Cancel specified reservation
      operationId: cancel
      description: Cancel specified reservation
      parameters:
        - in: header
          name: Accept-Language
          schema:
            type: string
        - in: header
          name: concur-correlationid
          description: This unique code can be used during troubleshooting as it identifies the API call in the log files.
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CancelCriteria'
        description: Cancel reservation criteria
      responses:
        '200':
          description: Reservation successfully cancelled
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelDetails'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ProcessingError'
        '401':
          description: Unauthorized
        '404':
          description: Reservation record not found
servers:
  - url: 'https://hs-mock.service.cnqr.tech'
    description: 'hs mock server'

components:
  securitySchemes:
    BasicAuth:
      type: http
      scheme: basic
  responses:
    BadRequest:
      description: Invalid client request. Request shouldn't be retried without changing it.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ProcessingError:
      description: Error while processing the request. Request can be retried as is at a later time.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

  schemas:
    SearchCriteria:
      type: object
      description: Search by either location or exact property reference if already available
      required:
        - requestorInfo
        - checkin
        - checkout
        - includeDepositRequired
      properties:
        requestorInfo:
          $ref: '#/components/schemas/RequestorInfo'
        numGuests:
          description: No. of guests for accomodation as entered by traveler
          type: integer
          format: int32
          default: 1
        guestCountryCode:
          description: Two-character ISO code (ISO ALPHA-2) for country
          type: string
          example: 'CA'
        locationSearch:
          $ref: '#/components/schemas/LocationSearch'
        hotelPropertyRefs:
          description: Reference Ids to hotel properties if we already have them. When provided 'locationSearch'  will not be used and may not be set.
          type: array
          items:
            $ref: '#/components/schemas/HotelPropertyRef'
        checkin:
          description: Check in date as entered by traveler
          type: string
          format: date
          example: '2021-10-20'
        checkout:
          description: Check out date as entered by traveler
          type: string
          format: date
          example: '2021-10-23'
        customFields:
          description: Custom fields that are supported by vendor (e.g. CostCenter)
          type: array
          items:
            $ref: '#/components/schemas/CustomField'
        includeDepositRequired:
          description: Whether to include properties where deposit is required or not
          type: boolean
        rateCategories:
          description: Special rate categories requested if applicable
          type: array
          items:
            $ref: '#/components/schemas/RateCategory'
        maxSearchResults:
          description: Maximum number of properties allowed to be included in search results
          type: integer
          default: 200
          example: 100
    LocationSearch:
      type: object
      description: Reference to location details for search
      required:
        - location
        - radius
        - maxRadius
      properties:
        location:
          $ref: '#/components/schemas/Location'
        radius:
          $ref: '#/components/schemas/Radius'
        maxRadius:
          $ref: '#/components/schemas/Radius'
    RatesCriteria:
      type: object
      required:
        - requestorInfo
        - hotelPropertyRefs
        - checkin
        - checkout
      properties:
        requestorInfo:
          $ref: '#/components/schemas/RequestorInfo'
        hotelPropertyRefs:
          description: Reference Ids to hotel properties for which rate is requested
          type: array
          items:
            $ref: '#/components/schemas/HotelPropertyRef'
        checkin:
          description: Check in date as entered by traveler
          type: string
          format: date
          example: '2021-10-20'
        checkout:
          description: Check out date as entered by traveler
          type: string
          format: date
          example: '2021-10-23'
        rateCategories:
          description: Special rate categories requested if applicable
          type: array
          items:
            $ref: '#/components/schemas/RateCategory'
        numGuests:
          description: No. of guests for accomodation
          type: integer
          format: int32
          default: 1
        guestCountryCode:
          description: Two-character ISO code (ISO ALPHA-2) for country
          type: string
          example: 'CA'
        searchSessionToken:
          $ref: '#/components/schemas/SearchSessionToken'
    RateDetailsCriteria:
      type: object
      required:
        - requestorInfo
        - hotelPropertyRef
        - ratePlanIds
        - checkin
        - checkout
      properties:
        requestorInfo:
          $ref: '#/components/schemas/RequestorInfo'
        hotelPropertyRef:
          $ref: '#/components/schemas/HotelPropertyRef'
        ratePlanIds:
          description: Rate Product Ids for which detail rates are requested
          type: array
          items:
            type: string
            example: '44SM3FAsfvgcZs9ehGlNOQ'
        checkin:
          description: Check in date as entered by traveler
          type: string
          format: date
          example: '2021-10-20'
        checkout:
          description: Check out date as entered by traveler
          type: string
          format: date
          example: '2021-10-23'
        rateCategories:
          description: Special rate categories requested if applicable. Rate category is a value used to request a particular rate code if the guest qualifies for a special rate, such as AARP, AAA or a corporate rate. Uses RPT OTA code type.
          type: array
          items:
            $ref: '#/components/schemas/RateCategory'
        numGuests:
          description: No. of guests for accomodation as entered by traveler
          type: integer
          format: int32
          default: 1
        guestCountryCode:
          description: Two-character ISO code (ISO ALPHA-2) for country
          type: string
          example: 'CA'
        searchSessionToken:
          $ref: '#/components/schemas/SearchSessionToken'
    HotelDetailsCriteria:
      type: object
      required:
        - requestorInfo
        - hotelCodes
      properties:
        requestorInfo:
          $ref: '#/components/schemas/RequestorInfo'
        hotelCodes:
          description: Reference Ids to hotel properties for which rate is requested
          type: array
          items:
            $ref: '#/components/schemas/HotelPropertyRef'
        searchSessionToken:
          $ref: '#/components/schemas/SearchSessionToken'
    CustomField:
      description: Vendor supported custom field
      type: object
      required:
        - name
        - value
      properties:
        name:
          description: Name of the custom field
          type: string
          example: OrgUnit
        value:
          description: Value of the custom field
          type: string
          example: Travel Agents
    HotelPropertyRef:
      description: Reference to hotel property using provider specific property code
      type: object
      required:
        - propertyCode
      properties:
        chainCode:
          description: Chain code associated with hotel if any
          type: string
          example: 'HH'
        propertyCode:
          description: Provider's property code as given in search response
          type: string
          example: HH498949
    HotelProperty:
      description: Hotel property object returned by hotel search
      type: object
      required:
        - propertyCode
        - hotelName
        - contactInfo
        - leadRate
        - availabilityStatus
        - amenities
        - address
        - leadImageURI
      properties:
        propertyCode:
          $ref: '#/components/schemas/PropertyCode'
        altPropertyCode:
          description: Alternate property code
          type: object
          required:
            - catalogName
            - catalogCode
          properties:
            catalogCode:
              $ref: '#/components/schemas/PropertyCode'
            catalogName:
              $ref: '#/components/schemas/CatalogName'
        chainCode:
          description: Chain code associated with hotel if any
          type: string
          example: 'HH'
        superChainCode:
          type: string
          example: 'EM'
        hotelName:
          type: string
          example: JW Marriott Parq
        contactInfo:
          $ref: '#/components/schemas/ContactInfo'
        position:
          $ref: '#/components/schemas/Geolocation'
        address:
          $ref: '#/components/schemas/Address'
        leadRate:
          $ref: '#/components/schemas/LeadRate'
        totalPrice:
          $ref: '#/components/schemas/TotalPriceHotel'
        availabilityStatus:
          $ref: '#/components/schemas/AvailabilityStatus'
        preferenceRank:
          $ref: '#/components/schemas/PreferenceRank'
        preferenceLevel:
          $ref: '#/components/schemas/PreferenceLevel'
        amenities:
          type: array
          items:
            $ref: '#/components/schemas/HotelAmenity'
        onRequest:
          type: boolean
          description: Indicates that the hotel can only be booked on request.
          default: false
        leadImageURI:
          type: string
          format: uri
          description: Contains an HTTPS URL pointing to a .png or .jpg hotel image file. The image will be used as a thumbnail and should be limited to 70x70 pixels to prevent image artifacts by scaling.
          example: 'https://images.samplehost.com/samplepath/leadimage.jpg'
        rating:
          $ref: '#/components/schemas/HotelRating'
        sustainabilityAwards:
          type: array
          items:
            $ref: '#/components/schemas/SustainabilityAward'
        emissionInfo:
            $ref: '#/components/schemas/EmissionInfo'
        exactMatch:
          type: boolean
          description: Flag if true indicates that this hotel is an exact match for what was asked in search request
          default: false
    HotelRatingSource:
      type: string
      description: source of rating
      example: NORTHSTAR
      enum:
        - NORTHSTAR
        - AAA_DIAMONDS
        - HOTELSTAR
        - STAR_RATING_AUSTRALIA
        - HRS_STAR_RATING
        - OTHER            
    HotelRating:
      type: object
      description: Hotel rating details along with source
      required:
        - value
        - source
      properties:
        value:
          description: Hotel rating value should be an integer number from 1 to 5, representing its star rating.
          type: integer
          example: 4
          minimum: 1
          maximum: 5
        source:
          $ref: '#/components/schemas/HotelRatingSource'
        name:
          type: string
          description: optional name of rating program if source is OTHER.
          example: My Own Program
    CatalogName:
      description: Northstar, Giata and GDS (Sabre, Amadeus, Galileo) are preferred options at this time
      type: string
      enum:
        - NORTHSTAR
        - GIATA
        - LEONARDO
        - AMADEUS
        - SABRE
        - WORLDSPAN
        - GALILEO
        - CWT
        - EXPEDIA
        - HRS
        - BOOKING.COM
        - OMNIBEES
    BasicHotelProperty:
      type: object
      required:
        - propertyCode
        - hotelName
        - contactInfo
        - cityCode
      properties:
        propertyCode:
          $ref: '#/components/schemas/PropertyCode'
        chainCode:
          type: string
          example: 'HH'
        hotelName:
          type: string
          example: JW Marriott Parq
        contactInfo:
          $ref: '#/components/schemas/ContactInfo'
        position:
          $ref: '#/components/schemas/Geolocation'
        address:
          $ref: '#/components/schemas/Address'
        cityCode:
          description: IATA 3 char city code for this property (required for adding passive segments)
          type: string
          example: "DFW"
    AvailabilityStatus:
      type: string
      enum:
        - AVAILABLE_FOR_SALE
        - CLOSED_OUT
        - UNKNOWN
    PreferenceRank:
      type: string
      enum:
        - PREFERRED
        - MORE_PREFERRED
        - MOST_PREFERRED
    PreferenceLevel:
      description: Determines if the PreferenceRank specified is at CHAIN or PROPERTY level
      type: string
      enum:
        - CHAIN
        - PROPERTY
    HotelMedia:
      type: object
      description: Hotel media details
      required:
        - url
        - type
      properties:
        url:
          type: string
          format: uri
          example: 'https://images.samplehost.com/samplepath/hotelEntrance.jpg'
        category:
          description: OTA code describing the image as defined in OTA Picture Category Code (PIC) list
          type: integer
          format: int32
        description:
          type: string
          example: "Hotel entrance"
        type:
          $ref: '#/components/schemas/MediaType'
    MediaType:
      type: string
      description: Note that currently only "IMAGE" type is supported in Concur application
      enum:
        - IMAGE
        - VIDEO
    SustainabilityProvider:
      description: Sustainability providers that are supported by hsv4
      type: string
      example: TRAVELIFE
      enum:
        - GSTC 
        - EARTH_CHECK
        - GREEN_GLOBE
        - GREEN_KEY 
        - TRAVELIFE 
        - GREEN_LEAF 
        - LEED 
        - GREEN_GROWTH_2050 
        - GREEN_SEAL
        - HILTON_LIGHTSTAY
        - IHG_GREEN_ENGAGE
        - NORDIC_SWAN
        - ACTIVITY_GREEN
        - ADVENTURE_GREEN_ALASKA
        - ECO_CERTIFICATION_MALTA
        - GLOBAL_ECOSPHERE_RETREATS
        - GREAT_GREEN_DEAL
        - SEYCHELLES_SUSTAINABLE_TOURISM
        - GREEN_STAY
        - OTHER 
    Location:
      type: object
      description: Defines Geo Location for search
      required:
        - geoLocation
        - locationType
        - name
      properties:
        geoLocation:
          $ref: '#/components/schemas/Geolocation'
        locationType:
          $ref: '#/components/schemas/LocationType'
        name:
          type: string
          example: 'Sheraton DFW Airport Hotel'
        address:
          $ref: '#/components/schemas/Address'
        iataCode:
          description: IATA code of airport if location searched is of type Airport
          type: string
    LocationType:
      description: Type of location associated with this search
      type: string
      enum:
        - COMPANY_LOCATION
        - HOTEL
        - ADDRESS
        - PLACE
        - AIRPORT
      example: 'Hotel'
    Geolocation:
      type: object
      required:
        - latitude
        - longitude
      properties:
        latitude:
          type: number
          example: 49.246292
        longitude:
          type: number
          example: -123.116226
    Address:
      type: object
      required:
        - addressLines
        - city
        - countryCode
      properties:
        addressLines:
          type: array
          items:
            type: string
            example: '910 Mainland Street'
        city:
          description: City name
          type: string
          example: 'Vancouver'
        state:
          description: Two-character state code
          type: string
          example: 'BC'
        stateName:
          description: 'Name or code of the State/Province/Adminstrative region'
          example: 'British Columbia'
          type: string          
        countryCode:
          description: Two-character ISO code (ISO ALPHA-2) for country
          type: string
          example: 'CA'
        postalCode:
          type: string
          example: 'V5K 0A1'
    HotelRates:
      type: object
      required:
        - propertyCode
        - rates
      properties:
        propertyCode:
          $ref: '#/components/schemas/PropertyCode'
        rates:
          type: array
          items:
            $ref: '#/components/schemas/HotelRate'
    HotelRate:
      type: object
      required:
        - roomRate
      properties:
        bedding:
          type: array
          items:
            $ref: '#/components/schemas/Bedding'
        mealsIncluded:
          description: Code based on OTA Meal Plan Type (MPT) list (https://www.opentraveldevelopersnetwork.com/code-list)
          type: array
          items:
            type: integer
            format: int32
            example: 19
        roomDescription:
          type: array
          items:
            type: string
          example: ['1 bedroom luxury suite', 'hearing accessible', 'workspace', 'garden facing balcony']
        roomAmenities:
          type: array
          items:
            $ref: '#/components/schemas/RoomAmenity'
        roomType:
          description: "OTA code of type GRI (Guest Room Info) providing guest room type details"
          type: integer
          format: int32
          example: 82
        roomRate:
          $ref: '#/components/schemas/RoomRate'
        source:
          type: object
          description: "Details about source attributed to this rate. Please note that logo is given preference to name and nothing is displayed as source if suppress is true"
          properties:
            name:
              description: "Name of the supplier for this source that can be shown in UI (Logo is given higher preference)"
              type: string
              example: "Expedia"
            logo:
              description: "Logo of the supplier for this source that can be shown in UI"
              type: string
              format: uri
              example: 'https://images.samplehost.com/samplepath/sourceLogo.png'
            suppress:
              description: "If true, will suppress all source attributions for this rate"
              type: boolean
              example: true
    RateCategory:
      type: object
      required:
        - otaCode
      properties:
        otaCode:
          description: Code based on OTA Rate Plan Type (RPT) list (https://www.opentraveldevelopersnetwork.com/code-list)
          type: integer
          format: int32
          example: 1
        value:
          description: Optional value for the given rate plan type code
          type: string
          example: 'AAA'
    TotalPrice:
      description: Details about total pricing associated with the stay
      type: object
      required:
        - currencyCode
        - totalAfterTax
      properties:
        isTotalBeforeTaxDisplayEligible:
          type: boolean
          description: Controls what value is shown on property details page for rates. Displays totalBeforeTax if set to true otherwise display totalAftertax
          example: true
          default: true
        totalBeforeTax:
          type: number
          example: 170.95
          multipleOf: 0.01
        taxes:
          type: number
          example: 10.00
          multipleOf: 0.01
        taxesBreakdown:
          type: array
          description: detail breakdown of tax amount
          items:
            $ref: '#/components/schemas/FeeTaxType'          
        fees:
          type: number
          example: 10.00
          multipleOf: 0.01
        feesBreakdown:
          type: array
          description: detail breakdown of fee amount
          items:
            $ref: '#/components/schemas/FeeTaxType'          
        totalAfterTax:
          type: number
          example: 190.95
          multipleOf: 0.01
        currencyCode:
          $ref: '#/components/schemas/CurrencyCode'
    Price:
      type: object
      required:
        - amount
        - currencyCode
      properties:
        amount:
          type: number
          example: 190.95
          multipleOf: 0.01
        currencyCode:
          $ref: '#/components/schemas/CurrencyCode'
    RoomRate:
      type: object
      required:
        - ratePlanId
        - totalPrice
        - rateChangesOverStay
      properties:
        rateDescription:
          type: array
          items:
            type: string
          example: ['Promotional Rate']
        rateCategory:
          $ref: '#/components/schemas/RateCategory'
        rateCustomText:
          description: Informational text for rate
          type: string
        rateDetailsCallRequired:
          description: If true, this rate requires a call to RateDetails before being booked.
          type: boolean
          default: false
        rateChangesOverStay:
          type: boolean
        loyaltyMembershipRequired:
          description: Whether or not loyalty card/program is required for booking this rate
          type: boolean
          default: false
        roomId:
          type: string
          example: 'kVNU66KLxuggtu2H'
        ratePlanId:
          type: string
          example: '44SM3FAsfvgcZs9ehGlNOQ'
        guarantee:
          type: object
          required:
            - guaranteeType
          properties:
            guaranteeType:
              $ref: '#/components/schemas/GuaranteeType'
            acceptedPayments:
              $ref: '#/components/schemas/AcceptedPayments'
            cvvRequired:
              type: boolean
            amountPercent:
              $ref: '#/components/schemas/AmountPercent'
        prepayRequired:
          description: Whether or not prepayment is required for booking this rate
          type: boolean
          example: true
        refundable:
          description: Is this rate refundable or not (based on all cancel penalties)
          type: boolean
          example: false
        totalPrice:
          $ref: '#/components/schemas/TotalPrice'
        nightlyPrices:
          type: array
          items:
            $ref: '#/components/schemas/NightlyPrice'
          minItems: 1
        cancelPenalties:
          $ref: '#/components/schemas/CancelPenalties'
    CancelPenalties:
      type: object
      required:
        - penalties
      properties:
        description:
          type: string
          description: Common description applicable to all the penalties
          example: 'Free cancellation up to 1 week before checkin'
        penalties:
          description: Cancel penalties associated with the rate
          type: array
          items:
            $ref: '#/components/schemas/CancelPenalty'
          minItems: 1
    RoomRateDetails:
      allOf:
        - $ref: '#/components/schemas/RoomRate'
        - type: object
          required:
            - guarantee
            - cancelPenalties
    NightlyPrice:
      type: object
      description: Details about nightly price for a given date range
      required:
        - basePrice
        - startDate
        - endDate
        - currencyCode
      properties:
        basePrice:
          type: number
          example: 89.95
          multipleOf: 0.01
        taxes:
          $ref: '#/components/schemas/Taxes'
        fees:
          $ref: '#/components/schemas/Fees'
        totalPrice:
          type: number
          example: 100.05
          multipleOf: 0.01
        startDate:
          type: string
          format: date
          example: '2021-12-01'
        endDate:
          type: string
          format: date
          example: '2021-12-31'
        currencyCode:
          $ref: '#/components/schemas/CurrencyCode'
    CurrencyCode:
      description: ISO 4217 currency code
      type: string
      example: USD
      minLength: 3
      maxLength: 3
    CancelPenalty:
      type: object
      required:
        - refundableStatus
      properties:
        cancelDeadline:
          type: string
          example: '2017-07-21T17:32:28Z or 2017-07-21T17:32:28 or 2017-07-21 17:32:28'
          description: Date string in the date-time notation as defined by RFC 3339 with or without timezone, section 5.6. If there is no timezone it is assumed to be local timezone of the hotel
        description:
          type: string
          example: 'Free cancellation up to 1 week before checkin'
        refundableStatus:
          $ref: '#/components/schemas/RefundableStatus'
        amountPercent:
          $ref: '#/components/schemas/AmountPercent'
    RefundableStatus:
      type: string
      enum:
        - FULLY_REFUNDABLE
        - PARTIALLY_REFUNDABLE
        - NON_REFUNDABLE
    AmountPercent:
      type: object
      properties:
        taxInclusive:
          description: If true, all taxes are included in the returned rate.
          type: boolean
          example: true
        feesInclusive:
          description: If true, all fees are included in the returned rate.
          type: boolean
          example: true
        numberOfNights:
          description: The number of nights that are to be spent in the property.
          type: integer
          example: 5
        basisType:
          $ref: '#/components/schemas/AmountPercentBasisType'
        applyAs:
          $ref: '#/components/schemas/AmountPercentApplyAs'
        percent:
          description: The percentage used to calculate the amount of the cancel fee.
          type: number
          example: 10.05
          multipleOf: 0.01
        amount:
          $ref: '#/components/schemas/Price'
    AmountPercentBasisType:
      type: string
      enum:
        - FULL_STAY
        - NIGHTS
        - FIRST_LAST
    AmountPercentApplyAs:
      type: string
      enum:
        - FIRST_NIGHT_DEPOSIT
        - LAST_NIGHT_DEPOST
        - FIRST_AND_LAST_NIGHT_DEPOSIT
        - FIRST_NIGHT_PAYMENT
        - LAST_NIGHT_PAYMENT
        - FIRST_AND_LAST_NIGHT_PAYMENT
    GuaranteeType:
      type: string
      enum:
        - DEPOSIT_REQUIRED
        - GUARANTEE_REQUIRED
        - NONE
    AcceptedPayments:
      type: array
      items:
        $ref: '#/components/schemas/PaymentCardType'
    PaymentModeIndicator:
      type: string
      enum:
        - PERSONAL_CARD
        - CORPORATE_CARD
        - CONCUR_VIRTUAL_CARD
        - VENDOR_VIRTUAL_CARD
      example: PersonalCard
    PaymentCardType:
      type: string
      enum:
        - AMERICAN_AIRLINES
        - ALASKA_BARTER
        - AMEX
        - AWARD_CREDIT
        - CANADIAN
        - CARTE_BLANCHE
        - CHINA_UNION_PAY
        - CONFERMA
        - DELTA
        - DINERS_CLUB
        - DISCOVER
        - ENROUTE
        - EURO_CARD
        - JCB
        - MC
        - NORTHWEST
        - TWA
        - UATP
        - UNITED_TRAVEL
        - UNITED_CREDIT
        - VENDOR_PROVIDED
        - VISA
      example: VISA
    PropertyCode:
      type: string
      example: 'HH498949'
    RequestorInfo:
      description: Information about POS (Point Of Sale), traveler and user associated with this request
      type: object
      required:
        - posRequestorId
        - travelerUuid
      properties:
        posRequestorId:
          description: An identifier of the entity making the request (e.g.
            ATA/IATA/ID number)
          type: string
          example: 'abc1234'
        travelerUuid:
          description: UUID that identifies the traveler within Concur
          type: string
          example: 123e4567-e89b-12d3-a456-426614174000
        loginId:
          description: Login ID of traveler within Concur. Only sent when available.
          type: string
          example: abc@concur.com
        bookingForSelf:
          description: Is logged in person booking for self or on behalf of someone else
          type: boolean
          example: true
    Radius:
      type: object
      description: Radius to restrict the search for hotels. 'maxRadius' allows extending search radius for preferred hotel properties and can be more than radius defined by traveler
      required:
        - value
        - unit
      properties:
        value:
          type: integer
          format: int32
          minimum: 1
          maximum: 100
          example: 5
        unit:
          $ref: '#/components/schemas/DistanceUnit'
    DistanceUnit:
      description: Unit of distance
      type: string
      enum:
        - MILE
        - KM
    SearchSessionToken:
      description: Session token to be generated and provided by server on initial 'search' call that can be referenced back for future api calls on the same session.
      type: string
      format: uuid
    HotelDetails:
      type: object
      required:
        - propertyRef
        - hotelDescriptiveInfo
      properties:
        propertyRef:
          $ref: '#/components/schemas/HotelPropertyRef'
        mediaItems:
          type: array
          items:
            $ref: '#/components/schemas/HotelMedia'  
        checkInTime:
          type: string 
          description: check-in time in HH:MM 24 hour format eg. 11:00
        checkOutTime:
          type: string
          description: check-out time in HH:MM 24 hour format eg. 16:00.
        hotelDescriptiveInfo:
          type: object
          required:
            - propertyDescription
            - descriptiveInfos
          properties:
            propertyDescription:
              type: string
              example: |
                Offering a restaurant and a fitness centre, Hilton Garden Inn Long Island City is located in Long Island City. Free WiFi access is available. Each room here will provide you with a TV. Complete with a microwave, the dining area also has a refrigerator and a coffee machine. Guests will enjoy a full service restaurant and bar with evening room service. Other facilities offered at the property include a shared lounge and luggage storage. LaGuardia Airport is 8 km away. Guests are required to show a photo identification and credit card upon check-in. Please note that all Special Requests are subject to availability and additional charges may apply. Due to Coronavirus (COVID-19), wearing a face mask is mandatory in all indoor common areas. In response to Coronavirus (COVID-19), additional safety and sanitation measures are currently in effect at this property. Food &amp; beverage services at this property may be limited or unavailable due to Coronavirus (COVID-19). Due to Coronavirus (COVID-19), this property is taking steps to help protect the safety of guests and staff. Certain services and amenities may be reduced or unavailable as a result. Please note that the Extra Bed / Crib is subject to availability. The property will be under renovations to the lobby bar and lounge area from 6 January 2020 until 30 March 2020.
            descriptiveInfos:
              type: array
              items:
                $ref: '#/components/schemas/HotelDescriptiveInfo'
            mediaItems:
              type: array
              items:
                $ref: '#/components/schemas/HotelMedia'
    HotelDescriptiveInfo:
      type: object
      required:
        - contents
        - otaCode
      properties:
        otaCode:
          description: Code based on OTA Additional Detail Type (ADT) list (https://www.opentraveldevelopersnetwork.com/code-list)
          type: integer
          format: int32
          example: 8
        contents:
          type: array
          items:
            type: string
          example: ["Check-in at 3:00PM", "Check-out at 11:00AM"]
        startDate:
          description: Start date for descriptive info if applicable only for specific dates (e.g. for alerts or special events)
          type: string
          format: date
          example: '2021-10-20'
        endDate:
          description: End date for descriptive info if applicable only for specific dates (e.g. for alerts or special events)
          type: string
          format: date
          example: '2021-11-20'
    ReservationCriteria:
      type: object
      required:
        - hotelPropertyRef
        - requestorInfo
        - ratePlanId
        - guests
        - customFields
        - checkin
        - checkout
        - bookingUuid
        - tripUuid
      properties:
        hotelPropertyRef:
          $ref: '#/components/schemas/HotelPropertyRef'
        requestorInfo:
          $ref: '#/components/schemas/RequestorInfo'
        ratePlanId:
          type: string
          example: '44SM3FAsfvgcZs9ehGlNOQ'
        guests:
          type: array
          items:
            $ref: '#/components/schemas/Guest'
        paymentModeIndicator:
          $ref:  '#/components/schemas/PaymentModeIndicator'
        guarantee:
          type: object
          required:
            - cardType
            - cardNumber
            - cardExpiryMonth
            - cardExpiryYear
          properties:
            cardType:
              $ref: '#/components/schemas/PaymentCardType'
            cardNumber:
              type: string
              example: '4242-4242-4242-4242'
            cardExpiryMonth:
              type: integer
              example: 8
            cardExpiryYear:
              type: integer
              example: 2030
            cvv:
              description: Card Verification Value - three or four-digit number on credit card for security
              type: string
              example: '369'
            cardHolderName:
              type: string
              example: 'John Smith'
            cardHolderAddress:
              $ref: '#/components/schemas/Address'
            virtualCardDeploymentId:
              type: string
        loyalty:
          type: object
          required:
            - programCode
            - accountId
          properties:
            programCode:
              type: string
              example: 'EM'
            accountId:
              type: string
              example: '209875030'
        checkin:
          type: string
          format: date
          example: '2021-10-20'
        checkout:
          type: string
          format: date
          example: '2021-10-23'
        comments:
          description: Comments about special requests for this booking
          type: array
          items:
            type: string
          example: ['Accessible', 'NonSmoking', 'Upper floor away from elevator']
        customFields:
          description: Vendor specific fields if setup for vendor integration
          type: array
          items:
            $ref: '#/components/schemas/CustomField'
        searchSessionToken:
          $ref: '#/components/schemas/SearchSessionToken'
        legalEntity:
          $ref: '#/components/schemas/LegalEntity'
        threeDSecure:
          $ref: '#/components/schemas/ThreeDSecure'
        bookingUuid:
          description: UUID that identifies the booking within Concur
          type: string
          example: 123e4567-e89b-12d3-a456-426614174000
        tripUuid:
          description: UUID that identifies the trip within Concur
          type: string
          example: 123e4567-e89b-12d3-a456-426614174000

    ReservationDetails:
      type: object
      required:
        - confirmationCodes
        - status
        - basicHotelProperty
        - roomRate
        - guests
      properties:
        confirmationCodes:
          type: array
          items:
            $ref: '#/components/schemas/ConfirmationCode'
        status:
          $ref: '#/components/schemas/ReservationStatus'
        basicHotelProperty:
          $ref: '#/components/schemas/BasicHotelProperty'
        roomRate:
          $ref: '#/components/schemas/RoomRateDetails'
        checkin:
          type: string
          format: date
          example: '2021-10-20'
        checkout:
          type: string
          format: date
          example: '2021-10-23'
        guests:
          type: array
          items:
            $ref: '#/components/schemas/Guest'
        roomDescription:
          type: array
          items:
            type: string
          example: [ '1 bedroom luxury suite', 'hearing accessible', 'workspace', 'garden facing balcony' ]
        comments:
          description: Comments about special requests for this booking
          type: array
          items:
            type: string
          example: [ 'Accessible', 'NonSmoking', 'Upper floor away from elevator' ]
        isModifiable:
          description: Whether or not this reservation can be modified.
          type: boolean
          default: true
          example: true
    ReservationStatus:
      type: string
      enum:
        - RESERVED
        - CANCELLED
        - PENDING_CONFIRMATION
    ConfirmationCode:
      type: object
      required:
        - codeType
        - code
      properties:
        codeType:
          $ref: '#/components/schemas/ConfirmationCodeType'
        code:
          type: string
          example: '3704188022P5683'
    ConfirmationCodeType:
      description: Confirmation Code Types that maps to OTA codes for Unique Id Types list RESERVATION(Record Locator)=14, SUPPLIER_CONFIRMATION=40, CANCELLATION=50, HOTEL_CONFIRMATION(Property Confirmation No.)=10, CONCUR_GDS_REFERENCE -> Concur Booking Record Locator for Passives
      type: string
      enum:
        - RESERVATION # 14
        - SUPPLIER_CONFIRMATION # 40
        - CANCELLATION # 15
        - HOTEL_CONFIRMATION # 10
        - CONCUR_GDS_REFERENCE
        - PASSIVE_CONFIRMATION
        - PIN # security pin
    Guest:
      type: object
      required:
        - firstname
        - lastname
      properties:
        firstname:
          type: string
          example: 'Blake'
        lastname:
          type: string
          example: 'Smith'
        address:
          $ref: '#/components/schemas/Address'
        companyName:
          type: string
          example: "SAP Concur"
        contactInfo:
          $ref: '#/components/schemas/ContactInfo'
        birthdate:
          type: string
          format: date
          example: '1990-04-17'
    ReadCriteria:
      type: object
      required:
        - requestorInfo
        - confirmationCodes
      properties:
        requestorInfo:
          $ref: '#/components/schemas/RequestorInfo'
        confirmationCodes:
          type: array
          items:
            $ref: '#/components/schemas/ConfirmationCode'
    ModifyCriteria:
      type: object
      required:
        - reservationCriteria
        - confirmationCodes
      properties:
        reservationCriteria:
          $ref: '#/components/schemas/ReservationCriteria'
        confirmationCodes:
          type: array
          items:
            $ref: '#/components/schemas/ConfirmationCode'
    CancelCriteria:
      type: object
      required:
        - requestorInfo
        - confirmationCodes
      properties:
        requestorInfo:
          $ref: '#/components/schemas/RequestorInfo'
        confirmationCodes:
          type: array
          items:
            $ref: '#/components/schemas/ConfirmationCode'
    CancelDetails:
      type: object
      required:
        - confirmationCodes
      properties:
        confirmationCodes:
          type: array
          items:
            $ref: '#/components/schemas/ConfirmationCode'
        cancellationRemarks:
          type: string
          example: "Reservation cancelled with no penalty"
    ContactInfo:
      type: object
      required:
        - phoneNumbers
        - emails
      properties:
        phoneNumbers:
          type: array
          items:
            type: string
            example: +1-555-555-1234
        faxNumber:
          type: string
          example: +1-555-555-5678
        emails:
          type: array
          items:
            type: string
            format: email
    LeadRate:
      type: object
      description: Lead rate is the lowest average nightly rate
      required:
        - avgNightlyRate
      properties:
        avgNightlyRate:
          $ref: '#/components/schemas/Price'
        isTaxAndFeesInclusive:
          description: Whether or not tax and fees are included.
          type: boolean
          default: false
          example: false
    TotalPriceHotel:
      type: object
      description: Details about total pricing associated with the stay
      properties:
        totalOverStay:
          $ref: '#/components/schemas/Price'
        isTaxInclusive:
          type: boolean
          description: Whether or not tax is included
          example: false
        isFeesInclusive:
          type: boolean
          description: Whether or not fees are included
          example: false
      required:
        - totalOverStay
    HotelAmenity:
      type: object
      description: Hotel amentity containing code as described in OTA code list Hotel Amenity Code (HAC)
      required:
        - amenityCode
      properties:
        amenityCode:
          type: integer
          format: int32
        cost:
          $ref: '#/components/schemas/Price'
    RoomAmenity:
      type: object
      description: Room amentity containing code as described in OTA code list Room Amenity Type (RMA)
      required:
        - amenityCode
      properties:
        amenityCode:
          type: integer
          format: int32
        cost:
          $ref: '#/components/schemas/Price'
    Error:
      type: object
      description: Error with OTA code and description
      required:
        - message
      properties:
        otaCode:
          description: Code based on OTA Error Codes list (https://www.opentraveldevelopersnetwork.com/code-list)
          type: integer
          format: int32
        message:
          type: string
    SearchResponse:
      type: object
      required:
        - hotelProperties
      properties:
        hotelProperties:
          type: array
          items:
            $ref: '#/components/schemas/HotelProperty'
        searchSessionToken:
          $ref: '#/components/schemas/SearchSessionToken'
    RatesResponse:
      type: object
      required:
        - hotelRates
        - checkin
        - checkout
      properties:
        checkin:
          type: string
          format: date
          example: '2021-10-20'
        checkout:
          type: string
          format: date
          example: '2021-10-23'
        hotelRates:
          type: array
          items:
            $ref: '#/components/schemas/HotelRates'
    RateDetailsResponse:
      type: object
      required:
        - roomRates
        - checkin
        - checkout
      properties:
        checkin:
          type: string
          format: date
          example: '2021-10-20'
        checkout:
          type: string
          format: date
          example: '2021-10-23'
        roomRates:
          type: array
          items:
            $ref: '#/components/schemas/RoomRateDetails'
    HotelDetailsResponse:
      type: object
      required:
        - hotelDetailsList
      properties:
        hotelDetailsList:
          type: array
          items:
            $ref: '#/components/schemas/HotelDetails'
    Bedding:
      description: Details about bedding associated with the room
      type: object
      required:
        - quantity
      properties:
        quantity:
          description: No. of beds
          type: integer
          example: 1
        bedTypeCode:
          description: Code based on OTA Bed Type (BED) list (https://www.opentraveldevelopersnetwork.com/code-list)
          type: integer
          format: int32
          example: 3
    Taxes:
      description: Representation of nightly tax amount associated with a rate along with optional breakdown.
      type: object
      required:
        - amount
      properties:
        amount:
          type: number
          example: 5.55
          multipleOf: 0.01
        taxBreakdown:
          type: array
          items:
            $ref: '#/components/schemas/FeeTaxType'
    Fees:
      description: Representation of nightly fees associated with a rate for given dates along with optional breakdown.
      type: object
      required:
        - amount
      properties:
        amount:
          type: number
          example: 10.95
          multipleOf: 0.01
        feeBreakdown:
          type: array
          items:
            $ref: '#/components/schemas/FeeTaxType'
    FeeTaxType:
      description: Fee or Tax associated with rate - can be either included or excluded from total rate as marked with 'inclusive' field.
      type: object
      required:
        - amount
        - fttCode
        - inclusive
      properties:
        amount:
          type: number
          example: 8.05
          multipleOf: 0.01
        fttCode:
          description: Code based on OTA's Fee Tax Type (FTT) list (https://www.opentraveldevelopersnetwork.com/code-list)
          type: integer
          format: int32
          example: 15
        inclusive:
          description: Whether or not this tax/fee is included in totalAmountAfterTax amount.
          type: boolean
          example: true
    SustainabilityAward:
      description: Award/Certification related to sustainability awarded to the hotel
      type: object
      required:
        - label
      properties:
        label:
          $ref: '#/components/schemas/SustainabilityProvider'
        level:
          description: Optional level of certification
          type: string
          example: Gold
        name: 
          type: string
          description: Name of certification in case when not possible to map to currently supported labels
          example: Custom    
    EmissionInfo:
      description: Hotel Sustainability Index information
      type: object
      properties:
        emissions:
          description: total emissions value for hotel
          type: number
          example: 1.3141592722321
        sustainabilityScore:
          description: sustainability score in range 0-100
          type: integer
          example: 40
        measure:
          description: measure for emissions value
          $ref: '#/components/schemas/Measure'
        unitOfMeasure:
          description: Unit of measure for emissions value
          $ref: '#/components/schemas/UnitOfMeasure'
          example: tonnes or kilograms
    Measure:
      type: string
      enum:
        - CO2E
        - CO2
    UnitOfMeasure:
      type: string
      enum:
        - TONNES
        - KILOGRAMS              
    LegalEntity:
      description: Provides details about the legal entity associated with this booking if available
      type: object
      required:
        - name
        - taxId
      properties:
        name:
          description: Name of the legal entity
          type: string
          example: 'My Great Company'
        taxId:
          description: Tax identity of the legal entity
          type: string
          example: '111-11-1111'
        address:
          $ref: '#/components/schemas/Address'
    ThreeDSecure:
      description: 3D Secure Strong Customer Authentication payment verification parameters
      type: object
      required:
        - avv
        - messageVersion
        - transactionId
        - eci
      properties:
        avv:
          description: For 3DS1, this is the CAVV. For 3DS2, this is the AVV.
          type: string
        cavvAlgorithm:
          description: Identifies the algorithm used to generate the CAVV for 3DS1.
          type: string
          minLength: 1
          maxLength: 8
        messageVersion:
          description: 3D Secure version
          type: string
          minLength: 1
          maxLength: 32
        transactionId:
          description: Unique transaction identifier assigned by the 3DS Server to identify a single transaction.
          type: string
        threeDSServerTransactionId:
          description: For 3DS1, this identifies the XID. For 3DS2, this identifies the dsTransactionId.
          type: string
        eci:
          description: Electronic Commerce Indicator
          type: string
          minLength: 1
          maxLength: 8
        exemptionCode:
          description: Identifies SCA exemption type
          type: string
          minLength: 1
          maxLength: 8
